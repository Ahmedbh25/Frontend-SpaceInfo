{"version":3,"file":"index.js","sources":["../../../../src/components/Slide/Background/index.tsx"],"sourcesContent":["import React from 'react';\nimport type CSS from 'csstype';\nimport BackgroundModuleCss from './index.module.css';\nimport { composeCssClasses } from '../../../utils/composeCssClasses';\n\n/**\n * Type definition for `BackgroundProps.backgroundAnimation`.\n */\nexport enum BackgroundAnimation {\n  FADE = 'fade',\n  ZOOM = 'zoom'\n}\n\n/**\n * `BackgroundProps` interface for the `Background` JSX\n * component's props used inside the `Slide` components.\n * The `Slide` components `background` prop is also defined\n * by `BackgroundProps`.\n */\nexport interface BackgroundProps {\n  /**\n   * CSS property. Defines the width of the background.\n   * @default '100%'\n   */\n  width?: CSS.Properties['width'];\n  /**\n   * CSS property. Defines the height of the background.\n   * @default '100%'\n   */\n  height?: CSS.Properties['height'];\n  backgroundColor?: CSS.Properties['backgroundColor'];\n  backgroundAnimationDuration?: CSS.Properties['animationDuration'];\n  backgroundAnimationDelay?: CSS.Properties['animationDelay'];\n  /**\n   * Background animation after the image loads.\n   * There are currently two options, a fade-in animation, or a zoom in animation that lasts 30 secs, the background zooms in until it reaches its original size.\n   * @default 'fade'\n   */\n  backgroundAnimation?: `${BackgroundAnimation}`;\n  /**\n   * Background blend mode CSS property **for the optional mask that could render in each of the Slide components**.\n   */\n  maskBackgroundBlendMode?: CSS.Properties['backgroundBlendMode'];\n  /**\n   * Background image.\n   */\n  backgroundImageClassName?: HTMLImageElement['sizes'];\n  backgroundImageBlendMode?: CSS.Properties['mixBlendMode'];\n  backgroundImageSizes?: HTMLImageElement['sizes'];\n  backgroundImageSrcSet?: HTMLImageElement['srcset'];\n  backgroundImageSrc?: HTMLImageElement['src'];\n  backgroundImageAlt?: HTMLImageElement['alt'];\n  backgroundImageStyle?: React.CSSProperties;\n  /**\n   * Boolean variable to allow or disable lazy loading.\n   * @default true\n   */\n  shouldLazyLoad?: boolean;\n  onLoad?: (event: React.SyntheticEvent<HTMLImageElement, Event>) => void;\n}\n\nexport default function Background(props: BackgroundProps) {\n  const {\n    backgroundAnimation = BackgroundAnimation.FADE,\n    backgroundImageClassName,\n    backgroundImageBlendMode,\n    backgroundImageSizes,\n    backgroundImageSrcSet,\n    backgroundImageSrc,\n    backgroundImageAlt,\n    backgroundImageStyle,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    maskBackgroundBlendMode: _, // Not used.\n    shouldLazyLoad = true,\n    onLoad,\n    ...background\n  } = props;\n\n  const [isLoaded, setIsLoaded] = React.useState(false);\n\n  const onLoadHandler = (\n    event: React.SyntheticEvent<HTMLImageElement, Event>\n  ): void => {\n    if (onLoad) onLoad(event);\n\n    setIsLoaded(true);\n  };\n\n  /**\n   * If there is no `backgroundImageSrc`, then there is no need to:\n   * - Add the `Loading` class is not needed, instead the default class is `Loaded`.\n   * - `img` tag element will not render.\n   */\n  const imageBackgroundClassNames: string[] = [];\n\n  if (isLoaded) {\n    imageBackgroundClassNames.push(BackgroundModuleCss.Loaded);\n    switch (backgroundAnimation) {\n      case BackgroundAnimation.ZOOM:\n        imageBackgroundClassNames.push(BackgroundModuleCss.ZoomOut);\n        break;\n      case BackgroundAnimation.FADE:\n        imageBackgroundClassNames.push(BackgroundModuleCss.FadeIn);\n        break;\n    }\n  } else {\n    imageBackgroundClassNames.push(BackgroundModuleCss.Loading);\n  }\n\n  return (\n    <div\n      className={composeCssClasses(\n        'hero-slider-slide-background',\n        backgroundImageClassName,\n        BackgroundModuleCss.Background\n      )}\n      style={background}\n    >\n      <img\n        className={composeCssClasses(\n          'hero-slider-slide-background-image',\n          backgroundImageClassName,\n          BackgroundModuleCss.Image,\n          ...imageBackgroundClassNames\n        )}\n        sizes={backgroundImageSizes}\n        srcSet={backgroundImageSrcSet}\n        src={backgroundImageSrc}\n        alt={backgroundImageAlt}\n        style={{\n          mixBlendMode: backgroundImageBlendMode,\n          ...backgroundImageStyle\n        }}\n        onLoad={onLoadHandler}\n        loading={shouldLazyLoad ? 'lazy' : 'eager'}\n      />\n    </div>\n  );\n}\n"],"names":["React"],"mappings":";;;;;AAKA;;AAEG;IACS,oBAGX;AAHD,CAAA,UAAY,mBAAmB,EAAA;AAC7B,IAAA,mBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACb,IAAA,mBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACf,CAAC,EAHW,mBAAmB,KAAnB,mBAAmB,GAG9B,EAAA,CAAA,CAAA,CAAA;AAkDuB,SAAA,UAAU,CAAC,KAAsB,EAAA;AACvD,IAAA,MAAM,EACJ,mBAAmB,GAAG,mBAAmB,CAAC,IAAI,EAC9C,wBAAwB,EACxB,wBAAwB,EACxB,oBAAoB,EACpB,qBAAqB,EACrB,kBAAkB,EAClB,kBAAkB,EAClB,oBAAoB;;IAEpB,uBAAuB,EAAE,CAAC;AAC1B,IAAA,cAAc,GAAG,IAAI,EACrB,MAAM,EAEJ,GAAA,KAAK,EADJ,UAAU,GACX,MAAA,CAAA,KAAK,EAdH,CAAA,qBAAA,EAAA,0BAAA,EAAA,0BAAA,EAAA,sBAAA,EAAA,uBAAA,EAAA,oBAAA,EAAA,oBAAA,EAAA,sBAAA,EAAA,yBAAA,EAAA,gBAAA,EAAA,QAAA,CAcL,CAAQ,CAAC;AAEV,IAAA,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAGA,cAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAEtD,IAAA,MAAM,aAAa,GAAG,CACpB,KAAoD,KAC5C;AACR,QAAA,IAAI,MAAM;YAAE,MAAM,CAAC,KAAK,CAAC,CAAC;QAE1B,WAAW,CAAC,IAAI,CAAC,CAAC;AACpB,KAAC,CAAC;AAEF;;;;AAIG;IACH,MAAM,yBAAyB,GAAa,EAAE,CAAC;AAE/C,IAAA,IAAI,QAAQ,EAAE;AACZ,QAAA,yBAAyB,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;AAC3D,QAAA,QAAQ,mBAAmB;YACzB,KAAK,mBAAmB,CAAC,IAAI;AAC3B,gBAAA,yBAAyB,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;gBAC5D,MAAM;YACR,KAAK,mBAAmB,CAAC,IAAI;AAC3B,gBAAA,yBAAyB,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBAC3D,MAAM;AACT,SAAA;AACF,KAAA;AAAM,SAAA;AACL,QAAA,yBAAyB,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;AAC7D,KAAA;AAED,IAAA,QACEA,cACE,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,iBAAiB,CAC1B,8BAA8B,EAC9B,wBAAwB,EACxB,mBAAmB,CAAC,UAAU,CAC/B,EACD,KAAK,EAAE,UAAU,EAAA;QAEjBA,cACE,CAAA,aAAA,CAAA,KAAA,EAAA,EAAA,SAAS,EAAE,iBAAiB,CAC1B,oCAAoC,EACpC,wBAAwB,EACxB,mBAAmB,CAAC,KAAK,EACzB,GAAG,yBAAyB,CAC7B,EACD,KAAK,EAAE,oBAAoB,EAC3B,MAAM,EAAE,qBAAqB,EAC7B,GAAG,EAAE,kBAAkB,EACvB,GAAG,EAAE,kBAAkB,EACvB,KAAK,EAAA,MAAA,CAAA,MAAA,CAAA,EACH,YAAY,EAAE,wBAAwB,EAAA,EACnC,oBAAoB,CAAA,EAEzB,MAAM,EAAE,aAAa,EACrB,OAAO,EAAE,cAAc,GAAG,MAAM,GAAG,OAAO,EAAA,CAC1C,CACE,EACN;AACJ;;;;"}