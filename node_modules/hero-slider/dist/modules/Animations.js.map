{"version":3,"file":"Animations.js","sources":["../../src/modules/Animations.tsx"],"sourcesContent":["import React from 'react';\nimport HeroSliderModuleCss from '../HeroSlider.module.css';\nimport { AccessabilityOrientation, useAccessability } from './Accessability';\n\nenum SlidingAnimation {\n  TOP_TO_BOTTOM = 'top_to_bottom',\n  BOTTOM_TO_TOP = 'bottom_to_top',\n  LEFT_TO_RIGHT = 'left_to_right',\n  RIGHT_TO_LEFT = 'right_to_left',\n  FADE = 'fade'\n}\n\nexport interface AnimationsProps {\n  /**\n   * The sliding animations during transitions.\n   * @default 'wipe'\n   */\n  slidingAnimation?: 'fade' | 'wipe';\n  /**\n   * Fade in duration of the slider during mount, in milliseconds.\n   * @default 100\n   */\n  sliderFadeInDuration?: number;\n  /**\n   * Navbars fade in duration, in milliseconds.\n   * @default 1000\n   */\n  navbarFadeInDuration?: number;\n  /**\n   * Navbars fade in delay, in milliseconds.\n   * @default 500\n   */\n  navbarFadeInDelay?: number;\n  /**\n   * When `true`, the `hero-slider` will know which animation should be set next.\n   * For example, if the user is selecting the next slide, the animation would be different to the one if the user had selected the previous slide.\n   * The animations will essentially be the same, but moving to different directions (e.g. left or right, or right to left).\n   * @default true\n   */\n  shouldManageAnimationSequence?: boolean;\n}\n\ntype ProviderProps = React.PropsWithChildren<{ animations?: AnimationsProps }>;\n\ninterface GetSlidingAnimationCssClass {\n  (\n    activeSlide: number,\n    prevActiveSlide: number,\n    slidingDirection?: 'forward' | 'backward'\n  ): string;\n}\n\nconst SlidingAnimationCssClassMap: Record<SlidingAnimation, string> = {\n  [SlidingAnimation.FADE]: HeroSliderModuleCss.Sliding_Fade_In,\n  [SlidingAnimation.TOP_TO_BOTTOM]: HeroSliderModuleCss.Sliding_Top_To_Bottom,\n  [SlidingAnimation.BOTTOM_TO_TOP]: HeroSliderModuleCss.Sliding_Bottom_To_Top,\n  [SlidingAnimation.LEFT_TO_RIGHT]: HeroSliderModuleCss.Sliding_Left_To_Right,\n  [SlidingAnimation.RIGHT_TO_LEFT]: HeroSliderModuleCss.Sliding_Right_To_Left\n};\n\nconst defaultProps: Required<AnimationsProps> = {\n  slidingAnimation: 'wipe',\n  sliderFadeInDuration: 100,\n  navbarFadeInDuration: 1000,\n  navbarFadeInDelay: 500,\n  shouldManageAnimationSequence: true\n};\n\nconst AnimationsStateContext = React.createContext<\n  | {\n      sliderFadeInDuration: number;\n      navbarFadeInDuration: number;\n      navbarFadeInDelay: number;\n      getSlidingAnimationCssClass: GetSlidingAnimationCssClass;\n    }\n  | undefined\n>(undefined);\n\nfunction AnimationsProvider({ children, animations }: ProviderProps) {\n  const { orientation } = useAccessability();\n\n  const params: Required<AnimationsProps> = {\n    slidingAnimation:\n      animations?.slidingAnimation || defaultProps.slidingAnimation,\n    sliderFadeInDuration:\n      animations?.sliderFadeInDuration ?? defaultProps.sliderFadeInDuration,\n    navbarFadeInDuration:\n      animations?.navbarFadeInDuration ?? defaultProps.navbarFadeInDuration,\n    navbarFadeInDelay:\n      animations?.navbarFadeInDelay ?? defaultProps.navbarFadeInDelay,\n    shouldManageAnimationSequence:\n      animations?.shouldManageAnimationSequence ??\n      defaultProps.shouldManageAnimationSequence\n  };\n\n  const getSlidingAnimationCssClass: GetSlidingAnimationCssClass = (\n    activeSlide,\n    prevActiveSlide,\n    slidingDirection\n  ): string => {\n    const getSlidingAnimation = (): SlidingAnimation => {\n      switch (params.slidingAnimation) {\n        case 'fade':\n          return SlidingAnimation.FADE;\n        case 'wipe': {\n          let direction: 'forward' | 'backward';\n\n          if (slidingDirection) direction = slidingDirection;\n          else {\n            const isSlidingForward = activeSlide > prevActiveSlide;\n            direction = isSlidingForward ? 'forward' : 'backward';\n          }\n\n          if (direction === 'forward')\n            return orientation === AccessabilityOrientation.HORIZONTAL\n              ? SlidingAnimation.RIGHT_TO_LEFT\n              : SlidingAnimation.BOTTOM_TO_TOP;\n          else\n            return orientation === AccessabilityOrientation.HORIZONTAL\n              ? SlidingAnimation.LEFT_TO_RIGHT\n              : SlidingAnimation.TOP_TO_BOTTOM;\n        }\n        default: {\n          throw new Error(\n            `Unhandled sliding animation: [${params.slidingAnimation}]`\n          );\n        }\n      }\n    };\n\n    return SlidingAnimationCssClassMap[getSlidingAnimation()];\n  };\n\n  // NOTE: you *might* need to memoize this value\n  // Learn more in http://kcd.im/optimize-context\n  const value = {\n    sliderFadeInDuration: params.sliderFadeInDuration,\n    navbarFadeInDuration: params.sliderFadeInDuration,\n    navbarFadeInDelay: params.sliderFadeInDuration,\n    getSlidingAnimationCssClass\n  };\n\n  return (\n    <AnimationsStateContext.Provider value={value}>\n      {children}\n    </AnimationsStateContext.Provider>\n  );\n}\n\nfunction useAnimations() {\n  const context = React.useContext(AnimationsStateContext);\n\n  if (context === undefined) {\n    throw new Error('useAnimations must be used within a AnimationsProvider');\n  }\n\n  return context;\n}\n\nexport { AnimationsProvider, useAnimations };\n"],"names":["React"],"mappings":";;;;AAIA,IAAK,gBAMJ,CAAA;AAND,CAAA,UAAK,gBAAgB,EAAA;AACnB,IAAA,gBAAA,CAAA,eAAA,CAAA,GAAA,eAA+B,CAAA;AAC/B,IAAA,gBAAA,CAAA,eAAA,CAAA,GAAA,eAA+B,CAAA;AAC/B,IAAA,gBAAA,CAAA,eAAA,CAAA,GAAA,eAA+B,CAAA;AAC/B,IAAA,gBAAA,CAAA,eAAA,CAAA,GAAA,eAA+B,CAAA;AAC/B,IAAA,gBAAA,CAAA,MAAA,CAAA,GAAA,MAAa,CAAA;AACf,CAAC,EANI,gBAAgB,KAAhB,gBAAgB,GAMpB,EAAA,CAAA,CAAA,CAAA;AA0CD,MAAM,2BAA2B,GAAqC;AACpE,IAAA,CAAC,gBAAgB,CAAC,IAAI,GAAG,mBAAmB,CAAC,eAAe;AAC5D,IAAA,CAAC,gBAAgB,CAAC,aAAa,GAAG,mBAAmB,CAAC,qBAAqB;AAC3E,IAAA,CAAC,gBAAgB,CAAC,aAAa,GAAG,mBAAmB,CAAC,qBAAqB;AAC3E,IAAA,CAAC,gBAAgB,CAAC,aAAa,GAAG,mBAAmB,CAAC,qBAAqB;AAC3E,IAAA,CAAC,gBAAgB,CAAC,aAAa,GAAG,mBAAmB,CAAC,qBAAqB;CAC5E,CAAC;AAEF,MAAM,YAAY,GAA8B;AAC9C,IAAA,gBAAgB,EAAE,MAAM;AACxB,IAAA,oBAAoB,EAAE,GAAG;AACzB,IAAA,oBAAoB,EAAE,IAAI;AAC1B,IAAA,iBAAiB,EAAE,GAAG;AACtB,IAAA,6BAA6B,EAAE,IAAI;CACpC,CAAC;AAEF,MAAM,sBAAsB,GAAGA,cAAK,CAAC,aAAa,CAQhD,SAAS,CAAC,CAAC;AAEb,SAAS,kBAAkB,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAiB,EAAA;;AACjE,IAAA,MAAM,EAAE,WAAW,EAAE,GAAG,gBAAgB,EAAE,CAAC;AAE3C,IAAA,MAAM,MAAM,GAA8B;AACxC,QAAA,gBAAgB,EACd,CAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,gBAAgB,KAAI,YAAY,CAAC,gBAAgB;AAC/D,QAAA,oBAAoB,EAClB,CAAA,EAAA,GAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,oBAAoB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,YAAY,CAAC,oBAAoB;AACvE,QAAA,oBAAoB,EAClB,CAAA,EAAA,GAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,oBAAoB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,YAAY,CAAC,oBAAoB;AACvE,QAAA,iBAAiB,EACf,CAAA,EAAA,GAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,iBAAiB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,YAAY,CAAC,iBAAiB;AACjE,QAAA,6BAA6B,EAC3B,CAAA,EAAA,GAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,6BAA6B,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GACzC,YAAY,CAAC,6BAA6B;KAC7C,CAAC;IAEF,MAAM,2BAA2B,GAAgC,CAC/D,WAAW,EACX,eAAe,EACf,gBAAgB,KACN;QACV,MAAM,mBAAmB,GAAG,MAAuB;YACjD,QAAQ,MAAM,CAAC,gBAAgB;AAC7B,gBAAA,KAAK,MAAM;oBACT,OAAO,gBAAgB,CAAC,IAAI,CAAC;gBAC/B,KAAK,MAAM,EAAE;AACX,oBAAA,IAAI,SAAiC,CAAC;AAEtC,oBAAA,IAAI,gBAAgB;wBAAE,SAAS,GAAG,gBAAgB,CAAC;AAC9C,yBAAA;AACH,wBAAA,MAAM,gBAAgB,GAAG,WAAW,GAAG,eAAe,CAAC;wBACvD,SAAS,GAAG,gBAAgB,GAAG,SAAS,GAAG,UAAU,CAAC;AACvD,qBAAA;oBAED,IAAI,SAAS,KAAK,SAAS;AACzB,wBAAA,OAAO,WAAW,KAAK,wBAAwB,CAAC,UAAU;8BACtD,gBAAgB,CAAC,aAAa;AAChC,8BAAE,gBAAgB,CAAC,aAAa,CAAC;;AAEnC,wBAAA,OAAO,WAAW,KAAK,wBAAwB,CAAC,UAAU;8BACtD,gBAAgB,CAAC,aAAa;AAChC,8BAAE,gBAAgB,CAAC,aAAa,CAAC;AACtC,iBAAA;AACD,gBAAA,SAAS;oBACP,MAAM,IAAI,KAAK,CACb,CAAA,8BAAA,EAAiC,MAAM,CAAC,gBAAgB,CAAG,CAAA,CAAA,CAC5D,CAAC;AACH,iBAAA;AACF,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,OAAO,2BAA2B,CAAC,mBAAmB,EAAE,CAAC,CAAC;AAC5D,KAAC,CAAC;;;AAIF,IAAA,MAAM,KAAK,GAAG;QACZ,oBAAoB,EAAE,MAAM,CAAC,oBAAoB;QACjD,oBAAoB,EAAE,MAAM,CAAC,oBAAoB;QACjD,iBAAiB,EAAE,MAAM,CAAC,oBAAoB;QAC9C,2BAA2B;KAC5B,CAAC;AAEF,IAAA,QACEA,cAAA,CAAA,aAAA,CAAC,sBAAsB,CAAC,QAAQ,EAAA,EAAC,KAAK,EAAE,KAAK,EAAA,EAC1C,QAAQ,CACuB,EAClC;AACJ,CAAC;AAED,SAAS,aAAa,GAAA;IACpB,MAAM,OAAO,GAAGA,cAAK,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC;IAEzD,IAAI,OAAO,KAAK,SAAS,EAAE;AACzB,QAAA,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;AAC3E,KAAA;AAED,IAAA,OAAO,OAAO,CAAC;AACjB;;;;"}